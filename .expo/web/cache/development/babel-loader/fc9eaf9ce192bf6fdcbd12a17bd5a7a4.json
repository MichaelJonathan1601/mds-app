{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Oferta;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _SnackBar = _interopRequireDefault(require(\"../../../shared/components/SnackBar\"));\n\nvar _index = _interopRequireDefault(require(\"../../../shared/components/HeaderGradient/index\"));\n\nvar _DatePicker = _interopRequireDefault(require(\"../../../shared/components/DatePicker\"));\n\nvar _oferta = require(\"../../../services/oferta\");\n\nvar _picker = require(\"@react-native-community/picker\");\n\nvar _styles = require(\"./styles\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mich0\\\\Downloads\\\\Mds.App.V2-master\\\\Mds.App.V2-master\\\\src\\\\screens\\\\AppScreens\\\\Oferta\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar timer;\n\nfunction Oferta() {\n  var _useSelector = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      userAccountId = _useSelector.userAccountId;\n\n  var _useSelector2 = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      token = _useSelector2.token;\n\n  var _useState = (0, _react.useState)(new Date()),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      date = _useState2[0],\n      setDate = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      disableButton = _useState4[0],\n      setDisableButton = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      pickerDisplayed = _useState6[0],\n      setPickerDisplayed = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(''),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      displayDate = _useState8[0],\n      setDisplayDate = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(''),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      product = _useState10[0],\n      setProduct = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(false),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      displayed = _useState12[0],\n      setDisplayed = _useState12[1];\n\n  var _useState13 = (0, _react.useState)('Não foi possível agendar, tente novamente'),\n      _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n      snackText = _useState14[0],\n      setSnackText = _useState14[1];\n\n  var closeModal = function closeModal() {\n    if (displayDate == '') {\n      setDisplayed(false);\n      clearTimeout(timer);\n    }\n  };\n\n  var Display = function Display() {\n    setDisplayed(true);\n    timer = setTimeout(function () {\n      setDisplayed(false);\n\n      if (displayDate !== '') {\n        navigation.pop();\n      }\n    }, 3000);\n  };\n\n  var navigation = (0, _native.useNavigation)();\n  (0, _react.useEffect)(function () {\n    navigation.addListener('focus', function () {\n      _reactNative.StatusBar.setBarStyle('light-content');\n    });\n  });\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_index.default, {\n    page2: true,\n    onBackPress: function onBackPress() {\n      return navigation.goBack();\n    },\n    name: 'Agendamento',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_styles.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.ScrollView, {\n    showsVerticalScrollIndicator: false,\n    contentContainerStyle: {\n      flexGrow: 1,\n      justifyContent: 'space-between',\n      minHeight: 500,\n      paddingTop: '7%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.TextStyle, {\n    h1: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Ofertas MDS!\"), _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"\\\"Informe os seguros que\", _react.default.createElement(_styles.TextStyle, {\n    bold: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \" n\\xE3o foram emitidos pela MDS\"), \" e entraremos em contato com as melhores ofertas para voc\\xEA! Assim que sua ap\\xF3lice estiver para vencer, um de nossos consultores entrar\\xE1 em contato.\\\"\"), _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Assim que sua ap\\xF3lice estiver para vencer, um de nossos atendentes entrar\\xE1 em contato.\")), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Produtos:\"), _react.default.createElement(_picker.Picker, {\n    selectedValue: product,\n    style: {\n      height: 50,\n      width: '100%'\n    },\n    onValueChange: function onValueChange(itemValue) {\n      return setProduct(itemValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_picker.Picker.Item, {\n    label: \"Aluguel de Carro\",\n    value: \"9281df1a-958d-4c39-07d9-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Autom\\xF3vel\",\n    value: \"18bc1f39-862e-4851-07d8-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Fian\\xE7a Locat\\xEDcia\",\n    value: \"ab4829fd-da56-4be8-07da-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Odontol\\xF3gico\",\n    value: \"3a1a6e5e-92d1-4723-e2e2-08d739f9eca2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Plano para Pets\",\n    value: \"46642bee-9779-4fa1-07d7-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Port\\xE1teis\",\n    value: \"b054fcf5-55ad-48b1-ac70-08d737dfaf94\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Responsabilidade Civil Profissional para M\\xE9dicos\",\n    value: \"dbb5f2aa-d302-4833-239d-08d736348638\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Sa\\xFAde\",\n    value: \"3c146675-f20b-4636-4dcc-08d73867663d\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Seguro Bike\",\n    value: \"d87a8f29-2541-4c17-07db-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Seguro de Acidentes Pessoaiss\",\n    value: \"c341d7c1-b3df-4092-07d5-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Seguro de Vida\",\n    value: \"e70ff0aa-4809-4b03-07d4-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Seguro Residencial\",\n    value: \"68d68454-b6e2-46b3-07d6-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Viagem\",\n    value: \"0ce15dc4-9fd0-44cf-07de-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_picker.Picker.Item, {\n    label: \"Vida Mulher\",\n    value: \"f88dc57c-14da-43d7-07dd-08d735eb11b9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }))), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"Data de vencimento da ap\\xF3lice:\", '\\n'), _react.default.createElement(_styles.TextInputStyle, {\n    onPress: function onPress() {\n      setPickerDisplayed(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, displayDate), _react.default.createElement(_DatePicker.default, {\n    type: 'date',\n    date: date,\n    setVar: setDate,\n    pickerDisplayed: pickerDisplayed,\n    setPickerDisplay: setPickerDisplayed,\n    setDisplayDate: setDisplayDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  })), _react.default.createElement(_styles.ConfirmButton, {\n    disabled: disableButton,\n    onPress: function onPress() {\n      console.log(userAccountId, product, date);\n\n      if (displayDate !== '') {\n        setDisableButton(true);\n        (0, _oferta.postOffer)(userAccountId, product, date, token).then(function (data) {\n          setSnackText(data);\n          Display();\n        });\n      } else {\n        setSnackText('Preencha os campos!');\n        Display();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.ButtonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, \"Enviar \")))), _react.default.createElement(_SnackBar.default, {\n    showSnack: displayed,\n    toggle: closeModal,\n    text: snackText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/mich0/Downloads/Mds.App.V2-master/Mds.App.V2-master/src/screens/AppScreens/Oferta/index.js"],"names":["timer","Oferta","state","login","userAccountId","token","Date","date","setDate","disableButton","setDisableButton","pickerDisplayed","setPickerDisplayed","displayDate","setDisplayDate","product","setProduct","displayed","setDisplayed","snackText","setSnackText","closeModal","clearTimeout","Display","setTimeout","navigation","pop","addListener","StatusBar","setBarStyle","goBack","flexGrow","justifyContent","minHeight","paddingTop","height","width","itemValue","console","log","then","data"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {useNavigation} from '@react-navigation/native';\r\nimport {useSelector} from 'react-redux';\r\nimport {StatusBar, View, ScrollView} from 'react-native';\r\n\r\nimport SnackBar from '../../../shared/components/SnackBar';\r\nimport HeaderGradient from '../../../shared/components/HeaderGradient/index';\r\n\r\nimport DateSelector from '../../../shared/components/DatePicker';\r\n\r\nimport {postOffer} from '../../../services/oferta';\r\nimport {Picker} from '@react-native-community/picker';\r\nimport {\r\n  Body,\r\n  ButtonText,\r\n  TextStyle,\r\n  ConfirmButton,\r\n  TextInputStyle,\r\n} from './styles';\r\n\r\nvar timer;\r\n\r\nexport default function Oferta() {\r\n  const {userAccountId} = useSelector((state) => ({...state.login}));\r\n  const {token} = useSelector((state) => ({...state.login}));\r\n\r\n  const [date, setDate] = useState(new Date());\r\n\r\n  const [disableButton, setDisableButton] = useState(false);\r\n\r\n  const [pickerDisplayed, setPickerDisplayed] = useState(false);\r\n\r\n  const [displayDate, setDisplayDate] = useState('');\r\n  const [product, setProduct] = useState('');\r\n\r\n  const [displayed, setDisplayed] = useState(false);\r\n\r\n  const [snackText, setSnackText] = useState(\r\n    'Não foi possível agendar, tente novamente',\r\n  );\r\n\r\n  const closeModal = () => {\r\n    if (displayDate == '') {\r\n      setDisplayed(false);\r\n      clearTimeout(timer);\r\n    }\r\n  };\r\n\r\n  const Display = () => {\r\n    setDisplayed(true);\r\n    timer = setTimeout(() => {\r\n      setDisplayed(false);\r\n      if (displayDate !== '') {\r\n        navigation.pop();\r\n      }\r\n    }, 3000);\r\n  };\r\n\r\n  const navigation = useNavigation();\r\n\r\n  useEffect(() => {\r\n    navigation.addListener('focus', () => {\r\n      StatusBar.setBarStyle('light-content');\r\n    });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <HeaderGradient\r\n        page2\r\n        onBackPress={() => navigation.goBack()}\r\n        name={'Agendamento'}\r\n      />\r\n      <Body>\r\n        <ScrollView\r\n          showsVerticalScrollIndicator={false}\r\n          contentContainerStyle={{\r\n            flexGrow: 1,\r\n            justifyContent: 'space-between',\r\n            minHeight: 500,\r\n            paddingTop: '7%'\r\n          }}>\r\n          <View>\r\n            <TextStyle h1>Ofertas MDS!</TextStyle>\r\n            <TextStyle>\r\n              \"Informe os seguros que\r\n              <TextStyle bold> não foram emitidos pela MDS</TextStyle> e\r\n              entraremos em contato com as melhores ofertas para você! Assim que\r\n              sua apólice estiver para vencer, um de nossos consultores entrará\r\n              em contato.\"\r\n            </TextStyle>\r\n            <TextStyle>\r\n              Assim que sua apólice estiver para vencer, um de nossos atendentes\r\n              entrará em contato.\r\n            </TextStyle>\r\n          </View>\r\n\r\n          <View>\r\n            <TextStyle>Produtos:</TextStyle>\r\n            <Picker\r\n              selectedValue={product}\r\n              style={{height: 50, width: '100%'}}\r\n              onValueChange={(itemValue) => setProduct(itemValue)}>\r\n              <Picker.Item\r\n                label=\"Aluguel de Carro\"\r\n                value=\"9281df1a-958d-4c39-07d9-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Automóvel\"\r\n                value=\"18bc1f39-862e-4851-07d8-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Fiança Locatícia\"\r\n                value=\"ab4829fd-da56-4be8-07da-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Odontológico\"\r\n                value=\"3a1a6e5e-92d1-4723-e2e2-08d739f9eca2\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Plano para Pets\"\r\n                value=\"46642bee-9779-4fa1-07d7-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Portáteis\"\r\n                value=\"b054fcf5-55ad-48b1-ac70-08d737dfaf94\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Responsabilidade Civil Profissional para Médicos\"\r\n                value=\"dbb5f2aa-d302-4833-239d-08d736348638\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Saúde\"\r\n                value=\"3c146675-f20b-4636-4dcc-08d73867663d\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Seguro Bike\"\r\n                value=\"d87a8f29-2541-4c17-07db-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Seguro de Acidentes Pessoaiss\"\r\n                value=\"c341d7c1-b3df-4092-07d5-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Seguro de Vida\"\r\n                value=\"e70ff0aa-4809-4b03-07d4-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Seguro Residencial\"\r\n                value=\"68d68454-b6e2-46b3-07d6-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Viagem\"\r\n                value=\"0ce15dc4-9fd0-44cf-07de-08d735eb11b9\"\r\n              />\r\n              <Picker.Item\r\n                label=\"Vida Mulher\"\r\n                value=\"f88dc57c-14da-43d7-07dd-08d735eb11b9\"\r\n              />\r\n            </Picker>\r\n          </View>\r\n          <View>\r\n            <TextStyle>Data de vencimento da apólice:{'\\n'}</TextStyle>\r\n            <TextInputStyle\r\n              onPress={() => {\r\n                setPickerDisplayed(true);\r\n              }}>\r\n              {displayDate}\r\n            </TextInputStyle>\r\n            <DateSelector\r\n              type={'date'}\r\n              date={date}\r\n              setVar={setDate}\r\n              pickerDisplayed={pickerDisplayed}\r\n              setPickerDisplay={setPickerDisplayed}\r\n              setDisplayDate={setDisplayDate}\r\n            />\r\n          </View>\r\n          <ConfirmButton\r\n            disabled={disableButton}\r\n            onPress={() => {\r\n              console.log(userAccountId, product, date);\r\n              if (displayDate !== '') {\r\n                setDisableButton(true);\r\n                postOffer(userAccountId, product, date, token).then((data) => {\r\n                  setSnackText(data);\r\n                  Display();\r\n                });\r\n              } else {\r\n                setSnackText('Preencha os campos!');\r\n                Display();\r\n              }\r\n            }}>\r\n            <ButtonText>Enviar </ButtonText>\r\n          </ConfirmButton>\r\n        </ScrollView>\r\n      </Body>\r\n\r\n      <SnackBar showSnack={displayed} toggle={closeModal} text={snackText} />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"script"}