{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativePermissions = require(\"react-native-permissions\");\n\nvar _reactNativeCamera = require(\"react-native-camera\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mich0\\\\Downloads\\\\Mds.App.V2-master\\\\Mds.App.V2-master\\\\node_modules\\\\react-native-qrcode-scanner\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar CAMERA_FLASH_MODE = _reactNativeCamera.RNCamera.Constants.FlashMode;\nvar CAMERA_FLASH_MODES = [CAMERA_FLASH_MODE.torch, CAMERA_FLASH_MODE.on, CAMERA_FLASH_MODE.off, CAMERA_FLASH_MODE.auto];\n\nvar QRCodeScanner = function (_Component) {\n  (0, _inherits2.default)(QRCodeScanner, _Component);\n\n  var _super = _createSuper(QRCodeScanner);\n\n  function QRCodeScanner(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, QRCodeScanner);\n    _this = _super.call(this, props);\n    _this.state = {\n      scanning: false,\n      isCameraActivated: true,\n      fadeInOpacity: new _reactNative.Animated.Value(0),\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      disableVibrationByUser: false\n    };\n    _this.timer = null;\n    _this._scannerTimeout = null;\n    _this._handleBarCodeRead = _this._handleBarCodeRead.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(QRCodeScanner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (_reactNative.Platform.OS === 'ios') {\n        (0, _reactNativePermissions.request)(_reactNativePermissions.PERMISSIONS.IOS.CAMERA).then(function (cameraStatus) {\n          _this2.setState({\n            isAuthorized: cameraStatus === _reactNativePermissions.RESULTS.GRANTED,\n            isAuthorizationChecked: true\n          });\n        });\n      } else if (_reactNative.Platform.OS === 'android' && this.props.checkAndroid6Permissions) {\n        _reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.CAMERA, {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        }).then(function (granted) {\n          var isAuthorized = granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED;\n\n          _this2.setState({\n            isAuthorized: isAuthorized,\n            isAuthorizationChecked: true\n          });\n        });\n      } else {\n        this.setState({\n          isAuthorized: true,\n          isAuthorizationChecked: true\n        });\n      }\n\n      if (this.props.fadeIn) {\n        _reactNative.Animated.sequence([_reactNative.Animated.delay(1000), _reactNative.Animated.timing(this.state.fadeInOpacity, {\n          toValue: 1,\n          easing: _reactNative.Easing.inOut(_reactNative.Easing.quad),\n          useNativeDriver: true\n        })]).start();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._scannerTimeout !== null) {\n        clearTimeout(this._scannerTimeout);\n      }\n\n      if (this.timer !== null) {\n        clearTimeout(this.timer);\n      }\n\n      this.timer = null;\n      this._scannerTimeout = null;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.setState({\n        disableVibrationByUser: true\n      });\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.setState({\n        disableVibrationByUser: false\n      });\n    }\n  }, {\n    key: \"_setScanning\",\n    value: function _setScanning(value) {\n      this.setState({\n        scanning: value\n      });\n    }\n  }, {\n    key: \"_setCamera\",\n    value: function _setCamera(value) {\n      var _this3 = this;\n\n      this.setState({\n        isCameraActivated: value,\n        scanning: false,\n        fadeInOpacity: new _reactNative.Animated.Value(0)\n      }, function () {\n        if (value && _this3.props.fadeIn) {\n          if (_this3.props.fadeIn) {\n            _reactNative.Animated.sequence([_reactNative.Animated.delay(10), _reactNative.Animated.timing(_this3.state.fadeInOpacity, {\n              toValue: 1,\n              easing: _reactNative.Easing.inOut(_reactNative.Easing.quad),\n              useNativeDriver: true\n            })]).start();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_handleBarCodeRead\",\n    value: function _handleBarCodeRead(e) {\n      var _this4 = this;\n\n      if (!this.state.scanning && !this.state.disableVibrationByUser) {\n        if (this.props.vibrate) {\n          _reactNative.Vibration.vibrate();\n        }\n\n        this._setScanning(true);\n\n        this.props.onRead(e);\n\n        if (this.props.reactivate) {\n          this._scannerTimeout = setTimeout(function () {\n            return _this4._setScanning(false);\n          }, this.props.reactivateTimeout);\n        }\n      }\n    }\n  }, {\n    key: \"_renderTopContent\",\n    value: function _renderTopContent() {\n      if (this.props.topContent) {\n        return this.props.topContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderBottomContent\",\n    value: function _renderBottomContent() {\n      if (this.props.bottomContent) {\n        return this.props.bottomContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraMarker\",\n    value: function _renderCameraMarker() {\n      if (this.props.showMarker) {\n        if (this.props.customMarker) {\n          return this.props.customMarker;\n        } else {\n          return _react.default.createElement(_reactNative.View, {\n            style: styles.rectangleContainer,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 11\n            }\n          }, _react.default.createElement(_reactNative.View, {\n            style: [styles.rectangle, this.props.markerStyle ? this.props.markerStyle : null],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 13\n            }\n          }));\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraComponent\",\n    value: function _renderCameraComponent() {\n      return _react.default.createElement(_reactNativeCamera.RNCamera, (0, _extends2.default)({\n        androidCameraPermissionOptions: {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        },\n        style: [styles.camera, this.props.cameraStyle],\n        onBarCodeRead: this._handleBarCodeRead.bind(this),\n        type: this.props.cameraType,\n        flashMode: this.props.flashMode,\n        captureAudio: false\n      }, this.props.cameraProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 7\n        }\n      }), this._renderCameraMarker());\n    }\n  }, {\n    key: \"_renderCamera\",\n    value: function _renderCamera() {\n      var _this5 = this;\n\n      var _this$props = this.props,\n          notAuthorizedView = _this$props.notAuthorizedView,\n          pendingAuthorizationView = _this$props.pendingAuthorizationView,\n          cameraType = _this$props.cameraType,\n          cameraTimeoutView = _this$props.cameraTimeoutView;\n\n      if (!this.state.isCameraActivated) {\n        return _react.default.createElement(_reactNative.TouchableWithoutFeedback, {\n          onPress: function onPress() {\n            return _this5._setCamera(true);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 9\n          }\n        }, cameraTimeoutView);\n      }\n\n      var _this$state = this.state,\n          isAuthorized = _this$state.isAuthorized,\n          isAuthorizationChecked = _this$state.isAuthorizationChecked;\n\n      if (isAuthorized) {\n        if (this.props.cameraTimeout > 0) {\n          this.timer && clearTimeout(this.timer);\n          this.timer = setTimeout(function () {\n            return _this5._setCamera(false);\n          }, this.props.cameraTimeout);\n        }\n\n        if (this.props.fadeIn) {\n          return _react.default.createElement(_reactNative.Animated.View, {\n            style: {\n              opacity: this.state.fadeInOpacity,\n              backgroundColor: 'transparent',\n              height: this.props.cameraStyle && this.props.cameraStyle.height || styles.camera.height\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 11\n            }\n          }, this._renderCameraComponent());\n        }\n\n        return this._renderCameraComponent();\n      } else if (!isAuthorizationChecked) {\n        return pendingAuthorizationView;\n      } else {\n        return notAuthorizedView;\n      }\n    }\n  }, {\n    key: \"reactivate\",\n    value: function reactivate() {\n      this._setScanning(false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactNative.View, {\n        style: [styles.mainContainer, this.props.containerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: [styles.infoView, this.props.topViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 9\n        }\n      }, this._renderTopContent()), _react.default.createElement(_reactNative.View, {\n        style: this.props.cameraStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 9\n        }\n      }, this._renderCamera()), _react.default.createElement(_reactNative.View, {\n        style: [styles.infoView, this.props.bottomViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 9\n        }\n      }, this._renderBottomContent()));\n    }\n  }]);\n  return QRCodeScanner;\n}(_react.Component);\n\nexports.default = QRCodeScanner;\nQRCodeScanner.propTypes = {\n  onRead: _propTypes.default.func.isRequired,\n  vibrate: _propTypes.default.bool,\n  reactivate: _propTypes.default.bool,\n  reactivateTimeout: _propTypes.default.number,\n  cameraTimeout: _propTypes.default.number,\n  fadeIn: _propTypes.default.bool,\n  showMarker: _propTypes.default.bool,\n  cameraType: _propTypes.default.oneOf(['front', 'back']),\n  customMarker: _propTypes.default.element,\n  containerStyle: _propTypes.default.any,\n  cameraStyle: _propTypes.default.any,\n  markerStyle: _propTypes.default.any,\n  topViewStyle: _propTypes.default.any,\n  bottomViewStyle: _propTypes.default.any,\n  topContent: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  bottomContent: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  notAuthorizedView: _propTypes.default.element,\n  permissionDialogTitle: _propTypes.default.string,\n  permissionDialogMessage: _propTypes.default.string,\n  buttonPositive: _propTypes.default.string,\n  checkAndroid6Permissions: _propTypes.default.bool,\n  flashMode: _propTypes.default.oneOf(CAMERA_FLASH_MODES),\n  cameraProps: _propTypes.default.object,\n  cameraTimeoutView: _propTypes.default.element\n};\nQRCodeScanner.defaultProps = {\n  onRead: function onRead() {\n    return console.log('QR code scanned!');\n  },\n  reactivate: false,\n  vibrate: true,\n  reactivateTimeout: 0,\n  cameraTimeout: 0,\n  fadeIn: true,\n  showMarker: false,\n  cameraType: 'back',\n  notAuthorizedView: _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Camera not authorized\")),\n  pendingAuthorizationView: _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"...\")),\n  permissionDialogTitle: 'Info',\n  permissionDialogMessage: 'Need camera permission',\n  buttonPositive: 'OK',\n  checkAndroid6Permissions: false,\n  flashMode: CAMERA_FLASH_MODE.auto,\n  cameraProps: {},\n  cameraTimeoutView: _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 0,\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: _reactNative.Dimensions.get('window').height,\n      width: _reactNative.Dimensions.get('window').width,\n      backgroundColor: 'black'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: {\n      color: 'white'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"Tap to activate camera\"))\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  mainContainer: {\n    flex: 1\n  },\n  infoView: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: _reactNative.Dimensions.get('window').width\n  },\n  camera: {\n    flex: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    height: _reactNative.Dimensions.get('window').width,\n    width: _reactNative.Dimensions.get('window').width\n  },\n  rectangleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent'\n  },\n  rectangle: {\n    height: 250,\n    width: 250,\n    borderWidth: 2,\n    borderColor: '#00FF00',\n    backgroundColor: 'transparent'\n  }\n});","map":{"version":3,"sources":["C:/Users/mich0/Downloads/Mds.App.V2-master/Mds.App.V2-master/node_modules/react-native-qrcode-scanner/index.js"],"names":["CAMERA_FLASH_MODE","Camera","Constants","FlashMode","CAMERA_FLASH_MODES","torch","on","off","auto","QRCodeScanner","props","state","scanning","isCameraActivated","fadeInOpacity","Animated","Value","isAuthorized","isAuthorizationChecked","disableVibrationByUser","timer","_scannerTimeout","_handleBarCodeRead","bind","Platform","OS","PERMISSIONS","IOS","CAMERA","then","cameraStatus","setState","RESULTS","GRANTED","checkAndroid6Permissions","PermissionsAndroid","request","title","permissionDialogTitle","message","permissionDialogMessage","buttonPositive","granted","fadeIn","sequence","delay","timing","toValue","easing","Easing","inOut","quad","useNativeDriver","start","clearTimeout","value","e","vibrate","Vibration","_setScanning","onRead","reactivate","setTimeout","reactivateTimeout","topContent","bottomContent","showMarker","customMarker","styles","rectangleContainer","rectangle","markerStyle","camera","cameraStyle","cameraType","flashMode","cameraProps","_renderCameraMarker","notAuthorizedView","pendingAuthorizationView","cameraTimeoutView","_setCamera","cameraTimeout","opacity","backgroundColor","height","_renderCameraComponent","mainContainer","containerStyle","infoView","topViewStyle","_renderTopContent","_renderCamera","bottomViewStyle","_renderBottomContent","Component","propTypes","PropTypes","func","isRequired","bool","number","oneOf","element","any","oneOfType","string","object","defaultProps","console","log","flex","alignItems","justifyContent","textAlign","fontSize","Dimensions","get","width","color","StyleSheet","create","borderWidth","borderColor"],"mappings":"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","sourcesContent":["'use strict';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  StyleSheet,\n  Dimensions,\n  Vibration,\n  Animated,\n  Easing,\n  View,\n  Text,\n  Platform,\n  TouchableWithoutFeedback,\n  PermissionsAndroid,\n} from 'react-native';\n\nimport { request, PERMISSIONS, RESULTS } from 'react-native-permissions';\nimport { RNCamera as Camera } from 'react-native-camera';\n\nconst CAMERA_FLASH_MODE = Camera.Constants.FlashMode;\nconst CAMERA_FLASH_MODES = [\n  CAMERA_FLASH_MODE.torch,\n  CAMERA_FLASH_MODE.on,\n  CAMERA_FLASH_MODE.off,\n  CAMERA_FLASH_MODE.auto,\n];\n\nexport default class QRCodeScanner extends Component {\n  static propTypes = {\n    onRead: PropTypes.func.isRequired,\n    vibrate: PropTypes.bool,\n    reactivate: PropTypes.bool,\n    reactivateTimeout: PropTypes.number,\n    cameraTimeout: PropTypes.number,\n    fadeIn: PropTypes.bool,\n    showMarker: PropTypes.bool,\n    cameraType: PropTypes.oneOf(['front', 'back']),\n    customMarker: PropTypes.element,\n    containerStyle: PropTypes.any,\n    cameraStyle: PropTypes.any,\n    markerStyle: PropTypes.any,\n    topViewStyle: PropTypes.any,\n    bottomViewStyle: PropTypes.any,\n    topContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    bottomContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    notAuthorizedView: PropTypes.element,\n    permissionDialogTitle: PropTypes.string,\n    permissionDialogMessage: PropTypes.string,\n    buttonPositive: PropTypes.string,\n    checkAndroid6Permissions: PropTypes.bool,\n    flashMode: PropTypes.oneOf(CAMERA_FLASH_MODES),\n    cameraProps: PropTypes.object,\n    cameraTimeoutView: PropTypes.element,\n  };\n\n  static defaultProps = {\n    onRead: () => console.log('QR code scanned!'),\n    reactivate: false,\n    vibrate: true,\n    reactivateTimeout: 0,\n    cameraTimeout: 0,\n    fadeIn: true,\n    showMarker: false,\n    cameraType: 'back',\n    notAuthorizedView: (\n      <View\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Text\n          style={{\n            textAlign: 'center',\n            fontSize: 16,\n          }}\n        >\n          Camera not authorized\n        </Text>\n      </View>\n    ),\n    pendingAuthorizationView: (\n      <View\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Text\n          style={{\n            textAlign: 'center',\n            fontSize: 16,\n          }}\n        >\n          ...\n        </Text>\n      </View>\n    ),\n    permissionDialogTitle: 'Info',\n    permissionDialogMessage: 'Need camera permission',\n    buttonPositive: 'OK',\n    checkAndroid6Permissions: false,\n    flashMode: CAMERA_FLASH_MODE.auto,\n    cameraProps: {},\n    cameraTimeoutView: (\n      <View\n        style={{\n          flex: 0,\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: Dimensions.get('window').height,\n          width: Dimensions.get('window').width,\n          backgroundColor: 'black',\n        }}\n      >\n        <Text style={{ color: 'white' }}>Tap to activate camera</Text>\n      </View>\n    ),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scanning: false,\n      isCameraActivated: true,\n      fadeInOpacity: new Animated.Value(0),\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      disableVibrationByUser: false,\n    };\n    this.timer = null;\n    this._scannerTimeout = null;\n    this._handleBarCodeRead = this._handleBarCodeRead.bind(this);\n  }\n\n  componentDidMount() {\n    if (Platform.OS === 'ios') {\n      request(PERMISSIONS.IOS.CAMERA).then(cameraStatus => {\n        this.setState({\n          isAuthorized: cameraStatus === RESULTS.GRANTED,\n          isAuthorizationChecked: true,\n        });\n      });\n    } else if (\n      Platform.OS === 'android' &&\n      this.props.checkAndroid6Permissions\n    ) {\n      PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA, {\n        title: this.props.permissionDialogTitle,\n        message: this.props.permissionDialogMessage,\n        buttonPositive: this.props.buttonPositive,\n      }).then(granted => {\n        const isAuthorized = granted === PermissionsAndroid.RESULTS.GRANTED;\n\n        this.setState({ isAuthorized, isAuthorizationChecked: true });\n      });\n    } else {\n      this.setState({ isAuthorized: true, isAuthorizationChecked: true });\n    }\n\n    if (this.props.fadeIn) {\n      Animated.sequence([\n        Animated.delay(1000),\n        Animated.timing(this.state.fadeInOpacity, {\n          toValue: 1,\n          easing: Easing.inOut(Easing.quad),\n          useNativeDriver: true,\n        }),\n      ]).start();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._scannerTimeout !== null) {\n      clearTimeout(this._scannerTimeout);\n    }\n    if (this.timer !== null) {\n      clearTimeout(this.timer);\n    }\n    this.timer = null;\n    this._scannerTimeout = null;\n  }\n\n  disable() {\n    this.setState({ disableVibrationByUser: true });\n  }\n  enable() {\n    this.setState({ disableVibrationByUser: false });\n  }\n\n  _setScanning(value) {\n    this.setState({ scanning: value });\n  }\n\n  _setCamera(value) {\n    this.setState(\n      {\n        isCameraActivated: value,\n        scanning: false,\n        fadeInOpacity: new Animated.Value(0),\n      },\n      () => {\n        if (value && this.props.fadeIn) {\n          if (this.props.fadeIn) {\n            Animated.sequence([\n              Animated.delay(10),\n              Animated.timing(this.state.fadeInOpacity, {\n                toValue: 1,\n                easing: Easing.inOut(Easing.quad),\n                useNativeDriver: true,\n              }),\n            ]).start();\n          }\n        }\n      }\n    );\n  }\n\n  _handleBarCodeRead(e) {\n    if (!this.state.scanning && !this.state.disableVibrationByUser) {\n      if (this.props.vibrate) {\n        Vibration.vibrate();\n      }\n      this._setScanning(true);\n      this.props.onRead(e);\n      if (this.props.reactivate) {\n        this._scannerTimeout = setTimeout(\n          () => this._setScanning(false),\n          this.props.reactivateTimeout\n        );\n      }\n    }\n  }\n\n  _renderTopContent() {\n    if (this.props.topContent) {\n      return this.props.topContent;\n    }\n    return null;\n  }\n\n  _renderBottomContent() {\n    if (this.props.bottomContent) {\n      return this.props.bottomContent;\n    }\n    return null;\n  }\n\n  _renderCameraMarker() {\n    if (this.props.showMarker) {\n      if (this.props.customMarker) {\n        return this.props.customMarker;\n      } else {\n        return (\n          <View style={styles.rectangleContainer}>\n            <View\n              style={[\n                styles.rectangle,\n                this.props.markerStyle ? this.props.markerStyle : null,\n              ]}\n            />\n          </View>\n        );\n      }\n    }\n    return null;\n  }\n\n  _renderCameraComponent() {\n    return (\n      <Camera\n        androidCameraPermissionOptions={{\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive,\n        }}\n        style={[styles.camera, this.props.cameraStyle]}\n        onBarCodeRead={this._handleBarCodeRead.bind(this)}\n        type={this.props.cameraType}\n        flashMode={this.props.flashMode}\n        captureAudio={false}\n        {...this.props.cameraProps}\n      >\n        {this._renderCameraMarker()}\n      </Camera>\n    );\n  }\n\n  _renderCamera() {\n    const {\n      notAuthorizedView,\n      pendingAuthorizationView,\n      cameraType,\n      cameraTimeoutView,\n    } = this.props;\n\n    if (!this.state.isCameraActivated) {\n      return (\n        <TouchableWithoutFeedback onPress={() => this._setCamera(true)}>\n          {cameraTimeoutView}\n        </TouchableWithoutFeedback>\n      );\n    }\n\n    const { isAuthorized, isAuthorizationChecked } = this.state;\n    if (isAuthorized) {\n      if (this.props.cameraTimeout > 0) {\n        this.timer && clearTimeout(this.timer);\n        this.timer = setTimeout(\n          () => this._setCamera(false),\n          this.props.cameraTimeout\n        );\n      }\n\n      if (this.props.fadeIn) {\n        return (\n          <Animated.View\n            style={{\n              opacity: this.state.fadeInOpacity,\n              backgroundColor: 'transparent',\n              height:\n                (this.props.cameraStyle && this.props.cameraStyle.height) ||\n                styles.camera.height,\n            }}\n          >\n            {this._renderCameraComponent()}\n          </Animated.View>\n        );\n      }\n      return this._renderCameraComponent();\n    } else if (!isAuthorizationChecked) {\n      return pendingAuthorizationView;\n    } else {\n      return notAuthorizedView;\n    }\n  }\n\n  reactivate() {\n    this._setScanning(false);\n  }\n\n  render() {\n    return (\n      <View style={[styles.mainContainer, this.props.containerStyle]}>\n        <View style={[styles.infoView, this.props.topViewStyle]}>\n          {this._renderTopContent()}\n        </View>\n        <View style={this.props.cameraStyle}>{this._renderCamera()}</View>\n        <View style={[styles.infoView, this.props.bottomViewStyle]}>\n          {this._renderBottomContent()}\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  infoView: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: Dimensions.get('window').width,\n  },\n\n  camera: {\n    flex: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    height: Dimensions.get('window').width,\n    width: Dimensions.get('window').width,\n  },\n\n  rectangleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n  },\n\n  rectangle: {\n    height: 250,\n    width: 250,\n    borderWidth: 2,\n    borderColor: '#00FF00',\n    backgroundColor: 'transparent',\n  },\n});\n"]},"metadata":{},"sourceType":"script"}