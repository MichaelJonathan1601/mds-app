{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = PasswordChange;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\n\nvar _styles = require(\"./styles\");\n\nvar _SimpleLineIcons = _interopRequireDefault(require(\"react-native-vector-icons/dist/SimpleLineIcons\"));\n\nvar _Ionicons = _interopRequireDefault(require(\"react-native-vector-icons/dist/Ionicons\"));\n\nvar _Entypo = _interopRequireDefault(require(\"react-native-vector-icons/dist/Entypo\"));\n\nvar _SnackBar = _interopRequireDefault(require(\"../../../shared/components/SnackBar\"));\n\nvar _passwordforgot = require(\"../../../services/passwordforgot\");\n\nvar _masks = require(\"../../../shared/utils/masks\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mich0\\\\Downloads\\\\Mds.App.V2-master\\\\Mds.App.V2-master\\\\src\\\\screens\\\\LoginScreens\\\\PasswordChange\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar timer;\n\nfunction PasswordChange() {\n  var _useSelector = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      token = _useSelector.token;\n\n  var _useState = (0, _react.useState)(0),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      focus = _useState2[0],\n      setFocus = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      cpf = _useState4[0],\n      setCPF = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(''),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(''),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      birth = _useState8[0],\n      setBirth = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(false),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      colorChange = _useState10[0],\n      setColorChange = _useState10[1];\n\n  var _useState11 = (0, _react.useState)('Não foi possível fazer login'),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      snackText = _useState12[0],\n      setSnackText = _useState12[1];\n\n  var _useState13 = (0, _react.useState)(false),\n      _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n      displayed = _useState14[0],\n      setDisplayed = _useState14[1];\n\n  var navigation = (0, _native.useNavigation)();\n  var grey = '#7c7b7b';\n  var red = '#ef271b';\n\n  var closeModal = function closeModal() {\n    setDisplayed(false);\n    clearTimeout(timer);\n  };\n\n  var Display = function Display() {\n    setColorChange(true);\n    setDisplayed(true);\n    timer = setTimeout(function () {\n      return setDisplayed(false);\n    }, 3000);\n  };\n\n  var _useSelector2 = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      isLoading = _useSelector2.isLoading;\n\n  var dispatch = (0, _reactRedux.useDispatch)();\n  (0, _react.useEffect)(function () {\n    LoadAsync();\n  }, []);\n\n  function LoadAsync() {\n    var x;\n    return _regenerator.default.async(function LoadAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regenerator.default.awrap(_asyncStorage.default.getItem('TOKEN'));\n\n          case 3:\n            x = _context.sent;\n\n            if (x != null) {\n              console.log(x);\n              dispatch({\n                type: 'USER_TOKEN',\n                payload: x\n              });\n            }\n\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            alert(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  }\n\n  function inputViewFocus(x) {\n    if (focus == x) {\n      return {\n        elevation: 5,\n        shadowColor: '#000',\n        shadowOffset: {\n          width: 0,\n          height: 2\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 3.84\n      };\n    }\n  }\n\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.StatusBar, {\n    barStyle: \"light-content\",\n    translucent: true,\n    backgroundColor: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_styles.HeaderGradient, {\n    colors: ['#041b4e', '#093575', '#0e4b97'],\n    useAngle: true,\n    angle: 100,\n    angleCenter: {\n      x: 0.5,\n      y: 0.5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_styles.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.pop();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_Entypo.default, {\n    name: \"chevron-thin-left\",\n    size: 30,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.HeaderText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Esqueci minha senha\"), _react.default.createElement(_styles.HeaderDescription, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Informe seu dados pessoais\")))), _react.default.createElement(_styles.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, !isLoading && _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.InputView, {\n    style: [inputViewFocus(1), {\n      borderBottomColor: (0, _masks.cpfStyle)(cpf, colorChange) ? red : 'black'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_Ionicons.default, {\n    name: \"person-outline\",\n    size: 30,\n    color: (0, _masks.cpfStyle)(cpf, colorChange) ? red : 'black',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_styles.TextInputStyle, {\n    value: cpf,\n    maxLength: 14,\n    keyboardType: 'numeric',\n    onChangeText: function onChangeText(cpf) {\n      return setCPF((0, _masks.cpfMask)(cpf));\n    },\n    onFocus: function onFocus() {\n      return setFocus(1);\n    },\n    placeholder: \"CPF\",\n    placeholderTextColor: colorChange && cpf == '' ? red : grey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  })), _react.default.createElement(_styles.InputView, {\n    style: [inputViewFocus(2), {\n      borderBottomColor: (0, _masks.pswStyle)(password, colorChange) ? red : 'black'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_SimpleLineIcons.default, {\n    name: \"lock\",\n    size: 30,\n    color: colorChange && password == '' || colorChange && password.length < 5 ? red : '#0b3a7e',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_styles.TextInputStyle, {\n    onChangeText: setPassword,\n    onFocus: function onFocus() {\n      return setFocus(2);\n    },\n    secureTextEntry: true,\n    placeholder: 'Senha',\n    placeholderTextColor: colorChange ? red : grey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  })), _react.default.createElement(_styles.InputView, {\n    style: [inputViewFocus(3), {\n      borderBottomColor: (0, _masks.dataStyle)(birth, colorChange) ? red : 'black'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_SimpleLineIcons.default, {\n    name: \"calendar\",\n    size: 30,\n    color: colorChange && birth == '' || colorChange && birth.length < 10 ? red : '#0b3a7e',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(_styles.TextInputStyle, {\n    value: birth,\n    maxLength: 10,\n    onChangeText: function onChangeText(birth) {\n      return setBirth((0, _masks.birthMask)(birth, colorChange));\n    },\n    onFocus: function onFocus() {\n      return setFocus(3);\n    },\n    placeholder: 'Data de nascimento',\n    placeholderTextColor: colorChange ? red : grey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }))), isLoading && _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.ActivityIndicator, {\n    size: \"large\",\n    color: \"#0e4b97\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_styles.ButtonGradient, {\n    colors: ['#041b4e', '#093575', '#0e4b97'],\n    useAngle: true,\n    angle: 100,\n    angleCenter: {\n      x: 0.5,\n      y: 0.5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.ConfirmButton, {\n    onPress: function onPress() {\n      if (!colorChange) {\n        (0, _passwordforgot.postPasswordReset)(cpf, birth, password, token).then(function (data) {\n          setSnackText(data);\n          data !== 1 ? Display() : {};\n        });\n      } else {\n        setSnackText('Preencha os campos corretamente');\n        Display();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_styles.ButtonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, \"Enviar\")))), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_styles.TextCenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.GreyText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, \"N\\xE3o tem cadastro?\")), _react.default.createElement(_styles.ConfirmButton, {\n    button2: true,\n    onPress: function onPress() {\n      return navigation.navigate('Register');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.ButtonText, {\n    black: true,\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, \"Criar minha conta\")), _react.default.createElement(_SnackBar.default, {\n    showSnack: displayed,\n    toggle: closeModal,\n    text: snackText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/mich0/Downloads/Mds.App.V2-master/Mds.App.V2-master/src/screens/LoginScreens/PasswordChange/index.js"],"names":["timer","PasswordChange","state","login","token","focus","setFocus","cpf","setCPF","password","setPassword","birth","setBirth","colorChange","setColorChange","snackText","setSnackText","displayed","setDisplayed","navigation","grey","red","closeModal","clearTimeout","Display","setTimeout","isLoading","dispatch","LoadAsync","AsyncStorage","getItem","x","console","log","type","payload","alert","inputViewFocus","elevation","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","y","pop","borderBottomColor","length","then","data","navigate"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {\r\n  View,\r\n  StatusBar,\r\n  TouchableOpacity,\r\n  ActivityIndicator,\r\n} from 'react-native';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {useNavigation} from '@react-navigation/native';\r\n\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport {\r\n  Body,\r\n  ConfirmButton,\r\n  ButtonText,\r\n  Header,\r\n  TextCenter,\r\n  ButtonGradient,\r\n  InputView,\r\n  TextInputStyle,\r\n  GreyText,\r\n  LinkText,\r\n  HeaderGradient,\r\n  HeaderText,\r\n  HeaderDescription,\r\n} from './styles';\r\n\r\nimport Lock from 'react-native-vector-icons/dist/SimpleLineIcons';\r\nimport UserIcon from 'react-native-vector-icons/dist/Ionicons';\r\nimport Icon from 'react-native-vector-icons/dist/Entypo';\r\n\r\nimport SnackBar from '../../../shared/components/SnackBar';\r\n\r\nimport {postPasswordReset} from '../../../services/passwordforgot';\r\n\r\nimport {\r\n  cpfMask,\r\n  birthMask,\r\n  cpfStyle,\r\n  pswStyle,\r\n  dataStyle,\r\n} from '../../../shared/utils/masks';\r\n\r\nvar timer;\r\n\r\nexport default function PasswordChange() {\r\n  const {token} = useSelector((state) => ({...state.login}));\r\n\r\n  const [focus, setFocus] = useState(0);\r\n  const [cpf, setCPF] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [birth, setBirth] = useState('');\r\n\r\n  const [colorChange, setColorChange] = useState(false);\r\n  const [snackText, setSnackText] = useState('Não foi possível fazer login');\r\n  const [displayed, setDisplayed] = useState(false);\r\n\r\n  const navigation = useNavigation();\r\n\r\n  var grey = '#7c7b7b';\r\n  var red = '#ef271b';\r\n\r\n  const closeModal = () => {\r\n    setDisplayed(false);\r\n    clearTimeout(timer);\r\n  };\r\n\r\n  const Display = () => {\r\n    setColorChange(true);\r\n    setDisplayed(true);\r\n    timer = setTimeout(() => setDisplayed(false), 3000);\r\n  };\r\n\r\n  const {isLoading} = useSelector((state) => ({...state.login}));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    LoadAsync();\r\n  }, []);\r\n\r\n  async function LoadAsync() {\r\n    try {\r\n      let x = await AsyncStorage.getItem('TOKEN');\r\n      if (x != null) {\r\n        console.log(x);\r\n        dispatch({\r\n          type: 'USER_TOKEN',\r\n          payload: x,\r\n        });\r\n      }\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  function inputViewFocus(x) {\r\n    if (focus == x) {\r\n      return {\r\n        elevation: 5,\r\n        shadowColor: '#000',\r\n        shadowOffset: {\r\n          width: 0,\r\n          height: 2,\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3.84,\r\n      };\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StatusBar\r\n        barStyle=\"light-content\"\r\n        translucent\r\n        backgroundColor=\"transparent\"\r\n      />\r\n      <HeaderGradient\r\n        colors={['#041b4e', '#093575', '#0e4b97']}\r\n        useAngle={true}\r\n        angle={100}\r\n        angleCenter={{x: 0.5, y: 0.5}}>\r\n        <Header>\r\n          <TouchableOpacity onPress={() => navigation.pop()}>\r\n            <Icon name=\"chevron-thin-left\" size={30} color=\"white\" />\r\n          </TouchableOpacity>\r\n          <View>\r\n            <HeaderText>Esqueci minha senha</HeaderText>\r\n            <HeaderDescription>Informe seu dados pessoais</HeaderDescription>\r\n          </View>\r\n        </Header>\r\n      </HeaderGradient>\r\n\r\n      <Body>\r\n        {!isLoading && (\r\n          <View>\r\n            <InputView\r\n              style={[\r\n                inputViewFocus(1),\r\n                {\r\n                  borderBottomColor: cpfStyle(cpf, colorChange) ? red : 'black',\r\n                },\r\n              ]}>\r\n              <UserIcon\r\n                name=\"person-outline\"\r\n                size={30}\r\n                color={cpfStyle(cpf, colorChange) ? red : 'black'}\r\n              />\r\n              <TextInputStyle\r\n                value={cpf}\r\n                maxLength={14}\r\n                keyboardType={'numeric'}\r\n                onChangeText={(cpf) => setCPF(cpfMask(cpf))}\r\n                onFocus={() => setFocus(1)}\r\n                placeholder=\"CPF\"\r\n                placeholderTextColor={colorChange && cpf == '' ? red : grey}\r\n              />\r\n            </InputView>\r\n            <InputView\r\n              style={[\r\n                inputViewFocus(2),\r\n                {\r\n                  borderBottomColor: pswStyle(password, colorChange)\r\n                    ? red\r\n                    : 'black',\r\n                },\r\n              ]}>\r\n              <Lock\r\n                name=\"lock\"\r\n                size={30}\r\n                color={\r\n                  (colorChange && password == '') ||\r\n                  (colorChange && password.length < 5)\r\n                    ? red\r\n                    : '#0b3a7e'\r\n                }\r\n              />\r\n              <TextInputStyle\r\n                onChangeText={setPassword}\r\n                onFocus={() => setFocus(2)}\r\n                secureTextEntry={true}\r\n                placeholder={'Senha'}\r\n                placeholderTextColor={colorChange ? red : grey}\r\n              />\r\n            </InputView>\r\n            <InputView\r\n              style={[\r\n                inputViewFocus(3),\r\n                {\r\n                  borderBottomColor: dataStyle(birth, colorChange)\r\n                    ? red\r\n                    : 'black',\r\n                },\r\n              ]}>\r\n              <Lock\r\n                name=\"calendar\"\r\n                size={30}\r\n                color={\r\n                  (colorChange && birth == '') ||\r\n                  (colorChange && birth.length < 10)\r\n                    ? red\r\n                    : '#0b3a7e'\r\n                }\r\n              />\r\n              <TextInputStyle\r\n                value={birth}\r\n                maxLength={10}\r\n                onChangeText={(birth) =>\r\n                  setBirth(birthMask(birth, colorChange))\r\n                }\r\n                onFocus={() => setFocus(3)}\r\n                placeholder={'Data de nascimento'}\r\n                placeholderTextColor={colorChange ? red : grey}\r\n              />\r\n            </InputView>\r\n          </View>\r\n        )}\r\n        {isLoading && (\r\n          <View>\r\n            <ActivityIndicator size=\"large\" color=\"#0e4b97\" />\r\n          </View>\r\n        )}\r\n\r\n        <View>\r\n          <ButtonGradient\r\n            colors={['#041b4e', '#093575', '#0e4b97']}\r\n            useAngle={true}\r\n            angle={100}\r\n            angleCenter={{x: 0.5, y: 0.5}}>\r\n            <ConfirmButton\r\n              onPress={() => {\r\n                if (!colorChange) {\r\n                  postPasswordReset(cpf, birth, password, token).then(\r\n                    (data) => {\r\n                      setSnackText(data);\r\n                      data !== 1 ? Display() : {};\r\n                    },\r\n                  );\r\n                } else {\r\n                  setSnackText('Preencha os campos corretamente');\r\n                  Display();\r\n                }\r\n              }}>\r\n              <ButtonText>Enviar</ButtonText>\r\n            </ConfirmButton>\r\n          </ButtonGradient>\r\n        </View>\r\n\r\n        <View>\r\n          <TextCenter>\r\n            <GreyText>Não tem cadastro?</GreyText>\r\n          </TextCenter>\r\n\r\n          <ConfirmButton\r\n            button2\r\n            onPress={() => navigation.navigate('Register')}>\r\n            <ButtonText black active>\r\n              Criar minha conta\r\n            </ButtonText>\r\n          </ConfirmButton>\r\n\r\n          <SnackBar\r\n            showSnack={displayed}\r\n            toggle={closeModal}\r\n            text={snackText}\r\n          />\r\n        </View>\r\n      </Body>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"script"}