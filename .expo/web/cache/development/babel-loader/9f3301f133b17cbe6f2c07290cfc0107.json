{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = AgendamentoSeguroNovo;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _SnackBar = _interopRequireDefault(require(\"../../../shared/components/SnackBar\"));\n\nvar _index = _interopRequireDefault(require(\"../../../shared/components/HeaderGradient/index\"));\n\nvar _agendamento = require(\"../../../services/agendamento\");\n\nvar _DatePicker = _interopRequireDefault(require(\"../../../shared/components/DatePicker\"));\n\nvar _styles = require(\"./styles\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mich0\\\\Downloads\\\\Mds.App.V2-master\\\\Mds.App.V2-master\\\\src\\\\screens\\\\AppScreens\\\\AgendamentoSeguroNovo\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar timer;\n\nfunction AgendamentoSeguroNovo() {\n  var _useSelector = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      userAccountId = _useSelector.userAccountId;\n\n  var _useSelector2 = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      token = _useSelector2.token;\n\n  var _useState = (0, _react.useState)(new Date()),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      date = _useState2[0],\n      setDate = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      displayDate = _useState4[0],\n      setDisplayDate = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      disableButton = _useState6[0],\n      setDisableButton = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(false),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      displayed = _useState8[0],\n      setDisplayed = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(false),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      pickerDisplayed = _useState10[0],\n      setPickerDisplayed = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(''),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      description = _useState12[0],\n      setDescription = _useState12[1];\n\n  var _useState13 = (0, _react.useState)('Não foi possível agendar, tente novamente'),\n      _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n      snackText = _useState14[0],\n      setSnackText = _useState14[1];\n\n  var closeModal = function closeModal() {\n    if (displayDate == '' || description == '') {\n      setDisplayed(false);\n      clearTimeout(timer);\n    }\n  };\n\n  var Display = function Display() {\n    setDisplayed(true);\n    timer = setTimeout(function () {\n      setDisplayed(false);\n\n      if (displayDate !== '' && description !== '') {\n        navigation.pop();\n      }\n    }, 3000);\n  };\n\n  var navigation = (0, _native.useNavigation)();\n  (0, _react.useEffect)(function () {\n    navigation.addListener('focus', function () {\n      _reactNative.StatusBar.setBarStyle('light-content');\n    });\n  });\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_index.default, {\n    page2: true,\n    onBackPress: function onBackPress() {\n      return navigation.goBack();\n    },\n    name: 'Agendamento Seguro Novo',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_styles.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.ScrollView, {\n    showsVerticalScrollIndicator: false,\n    contentContainerStyle: {\n      flexGrow: 1,\n      justifyContent: 'space-between',\n      minHeight: 525,\n      paddingTop: '7%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.TextStyle, {\n    h1: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Atendimento Agendado Exclusivo!\", '\\n'), _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Para agendar um contato basta selecionar uma data/hora, e escrever uma breve descri\\xE7\\xE3o sobre o motivo do contato\", '\\n'), _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Um de nossos atendentes entrar\\xE1 em contato com voc\\xEA!.\")), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Data em que deseja o contato:\", '\\n'), _react.default.createElement(_styles.TextInputStyle, {\n    onPress: function onPress() {\n      setPickerDisplayed(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, displayDate), _react.default.createElement(_DatePicker.default, {\n    type: 'datetime',\n    date: date,\n    setVar: setDate,\n    pickerDisplayed: pickerDisplayed,\n    setPickerDisplay: setPickerDisplayed,\n    setDisplayDate: setDisplayDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.TextStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"Descri\\xE7\\xE3o:\"), _react.default.createElement(_styles.DescriptionStyle, {\n    onChangeText: setDescription,\n    multiline: true,\n    maxLength: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })), _react.default.createElement(_styles.ConfirmButton, {\n    disabled: disableButton,\n    onPress: function onPress() {\n      console.log(userAccountId, date, description);\n\n      if (displayDate !== '' && description !== '') {\n        setDisableButton(true);\n        (0, _agendamento.postAgenda)(userAccountId, date, description, 'Seguro Novo', token).then(function (data) {\n          setSnackText(data);\n          Display();\n        });\n      } else {\n        setSnackText('Preencha os campos!');\n        Display();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_styles.ButtonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Enviar \")))), _react.default.createElement(_SnackBar.default, {\n    showSnack: displayed,\n    toggle: closeModal,\n    text: snackText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/mich0/Downloads/Mds.App.V2-master/Mds.App.V2-master/src/screens/AppScreens/AgendamentoSeguroNovo/index.js"],"names":["timer","AgendamentoSeguroNovo","state","login","userAccountId","token","Date","date","setDate","displayDate","setDisplayDate","disableButton","setDisableButton","displayed","setDisplayed","pickerDisplayed","setPickerDisplayed","description","setDescription","snackText","setSnackText","closeModal","clearTimeout","Display","setTimeout","navigation","pop","addListener","StatusBar","setBarStyle","goBack","flexGrow","justifyContent","minHeight","paddingTop","console","log","then","data"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {useNavigation} from '@react-navigation/native';\r\nimport {useSelector} from 'react-redux';\r\nimport {StatusBar, View, ScrollView} from 'react-native';\r\n\r\nimport SnackBar from '../../../shared/components/SnackBar';\r\nimport HeaderGradient from '../../../shared/components/HeaderGradient/index';\r\n\r\nimport {postAgenda} from '../../../services/agendamento';\r\n\r\nimport DateSelector from '../../../shared/components/DatePicker';\r\n\r\nimport {\r\n  Body,\r\n  ButtonText,\r\n  TextStyle,\r\n  ConfirmButton,\r\n  TextInputStyle,\r\n  DescriptionStyle,\r\n} from './styles';\r\n\r\nvar timer;\r\n\r\nexport default function AgendamentoSeguroNovo() {\r\n  const {userAccountId} = useSelector((state) => ({...state.login}));\r\n  const {token} = useSelector((state) => ({...state.login}));\r\n\r\n  const [date, setDate] = useState(new Date());\r\n\r\n  const [displayDate, setDisplayDate] = useState('');\r\n\r\n  const [disableButton, setDisableButton] = useState(false);\r\n\r\n  const [displayed, setDisplayed] = useState(false);\r\n\r\n  const [pickerDisplayed, setPickerDisplayed] = useState(false);\r\n\r\n  const [description, setDescription] = useState('');\r\n\r\n  const [snackText, setSnackText] = useState(\r\n    'Não foi possível agendar, tente novamente',\r\n  );\r\n\r\n  const closeModal = () => {\r\n    if (displayDate == '' || description == '') {\r\n      setDisplayed(false);\r\n      clearTimeout(timer);\r\n    }\r\n  };\r\n\r\n  const Display = () => {\r\n    setDisplayed(true);\r\n    timer = setTimeout(() => {\r\n      setDisplayed(false);\r\n      if (displayDate !== '' && description !== '') {\r\n        navigation.pop();\r\n      }\r\n    }, 3000);\r\n  };\r\n\r\n  const navigation = useNavigation();\r\n\r\n  useEffect(() => {\r\n    navigation.addListener('focus', () => {\r\n      StatusBar.setBarStyle('light-content');\r\n    });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <HeaderGradient\r\n        page2\r\n        onBackPress={() => navigation.goBack()}\r\n        name={'Agendamento Seguro Novo'}\r\n      />\r\n      <Body>\r\n        <ScrollView\r\n          showsVerticalScrollIndicator={false}\r\n          contentContainerStyle={{\r\n            flexGrow: 1,\r\n            justifyContent: 'space-between',\r\n            minHeight:525,\r\n            paddingTop: '7%'\r\n          }}>\r\n          <View>\r\n            <TextStyle h1>Atendimento Agendado Exclusivo!{'\\n'}</TextStyle>\r\n            <TextStyle>\r\n              Para agendar um contato basta selecionar uma data/hora, e escrever\r\n              uma breve descrição sobre o motivo do contato{'\\n'}\r\n            </TextStyle>\r\n            <TextStyle>\r\n              Um de nossos atendentes entrará em contato com você!.\r\n            </TextStyle>\r\n          </View>\r\n\r\n          <View>\r\n            <TextStyle>Data em que deseja o contato:{'\\n'}</TextStyle>\r\n            <TextInputStyle\r\n              onPress={() => {\r\n                setPickerDisplayed(true);\r\n              }}>\r\n              {displayDate}\r\n            </TextInputStyle>\r\n\r\n            <DateSelector\r\n              type={'datetime'}\r\n              date={date}\r\n              setVar={setDate}\r\n              pickerDisplayed={pickerDisplayed}\r\n              setPickerDisplay={setPickerDisplayed}\r\n              setDisplayDate={setDisplayDate}\r\n            />\r\n          </View>\r\n          <View>\r\n            <TextStyle>Descrição:</TextStyle>\r\n            <DescriptionStyle\r\n              onChangeText={setDescription}\r\n              multiline={true}\r\n              maxLength={300}></DescriptionStyle>\r\n          </View>\r\n\r\n          <ConfirmButton\r\n            disabled={disableButton}\r\n            onPress={() => {\r\n              console.log(userAccountId, date, description);\r\n              if (displayDate !== '' && description !== '') {\r\n                setDisableButton(true);\r\n                postAgenda(\r\n                  userAccountId,\r\n                  date,\r\n                  description,\r\n                  'Seguro Novo',\r\n                  token,\r\n                ).then((data) => {\r\n                  setSnackText(data);\r\n                  Display();\r\n                });\r\n              } else {\r\n                setSnackText('Preencha os campos!');\r\n                Display();\r\n              }\r\n            }}>\r\n            <ButtonText>Enviar </ButtonText>\r\n          </ConfirmButton>\r\n        </ScrollView>\r\n      </Body>\r\n\r\n      <SnackBar showSnack={displayed} toggle={closeModal} text={snackText} />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"script"}