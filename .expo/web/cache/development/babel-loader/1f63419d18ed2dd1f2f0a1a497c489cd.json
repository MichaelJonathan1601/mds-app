{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SelectedProduct;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _reactNativeWebview = _interopRequireDefault(require(\"react-native-webview\"));\n\nvar _styles = require(\"./styles\");\n\nvar _index = _interopRequireDefault(require(\"../../../shared/components/HeaderGradient/index\"));\n\nvar _SnackBar = _interopRequireDefault(require(\"../../../shared/components/SnackBar\"));\n\nvar _products = require(\"../../../services/products\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mich0\\\\Downloads\\\\Mds.App.V2-master\\\\Mds.App.V2-master\\\\src\\\\screens\\\\AppScreens\\\\SelectedProduct\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar timer;\n\nfunction SelectedProduct(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useSelector = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.policies);\n  }),\n      userPolicies = _useSelector.userPolicies;\n\n  var _useSelector2 = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      userAccountId = _useSelector2.userAccountId;\n\n  var _useSelector3 = (0, _reactRedux.useSelector)(function (state) {\n    return (0, _extends2.default)({}, state.login);\n  }),\n      token = _useSelector3.token;\n\n  var tag = route.params.tag;\n  var name = route.params.name;\n  var productId = route.params.productId;\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      productText = _useState2[0],\n      setProductText = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      disableButton = _useState4[0],\n      setDisableButton = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      displayed = _useState6[0],\n      setDisplayed = _useState6[1];\n\n  var _useState7 = (0, _react.useState)('Ocorreu um erro tente novamente'),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      snackText = _useState8[0],\n      setSnackText = _useState8[1];\n\n  var closeModal = function closeModal() {};\n\n  var Display = function Display() {\n    setDisplayed(true);\n    timer = setTimeout(function () {\n      setDisplayed(false);\n      navigation.goBack();\n    }, 3000);\n  };\n\n  var dispatch = (0, _reactRedux.useDispatch)();\n  (0, _react.useEffect)(function () {\n    navigation.addListener('focus', function () {\n      _reactNative.StatusBar.setBarStyle('light-content');\n    });\n  }, []);\n  (0, _react.useEffect)(function () {\n    (0, _products.getProductDetail)(tag, token).then(function (data) {\n      setProductText(data);\n    });\n  }, []);\n\n  function ProductsMap() {\n    try {\n      return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.ScrollView, {\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          flexGrow: 1,\n          justifyContent: 'space-between'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeWebview.default, {\n        style: {\n          flex: 1\n        },\n        originWhitelist: ['*'],\n        source: {\n          html: productText\n        },\n        scalesPageToFit: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }), _react.default.createElement(_styles.ConfirmButton, {\n        disabled: disableButton,\n        onPress: function onPress() {\n          setDisableButton(true);\n          (0, _products.postProductAccount)(productId, userAccountId, token).then(function (data) {\n            setSnackText('Produto Solicitado!');\n            Display();\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_styles.ButtonText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }\n      }, \"Solicitar Cota\\xE7\\xE3o\"))), _react.default.createElement(_SnackBar.default, {\n        showSnack: displayed,\n        toggle: closeModal,\n        text: snackText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }));\n    } catch (e) {\n      console.log(e);\n      return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: \"#0e4b97\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }));\n    }\n  }\n\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_index.default, {\n    page2: true,\n    onBackPress: function onBackPress() {\n      return navigation.goBack();\n    },\n    name: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_styles.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, ProductsMap()));\n}","map":{"version":3,"sources":["C:/Users/mich0/Downloads/Mds.App.V2-master/Mds.App.V2-master/src/screens/AppScreens/SelectedProduct/index.js"],"names":["timer","SelectedProduct","route","navigation","state","policies","userPolicies","login","userAccountId","token","tag","params","name","productId","productText","setProductText","disableButton","setDisableButton","displayed","setDisplayed","snackText","setSnackText","closeModal","Display","setTimeout","goBack","dispatch","addListener","StatusBar","setBarStyle","then","data","ProductsMap","flexGrow","justifyContent","flex","html","e","console","log"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {StatusBar, ActivityIndicator, ScrollView} from 'react-native';\r\n\r\nimport {useNavigation} from '@react-navigation/native';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\n\r\nimport WebView from 'react-native-webview';\r\n\r\nimport {Body, ButtonText, ConfirmButton} from './styles';\r\n\r\nimport HeaderGradient from '../../../shared/components/HeaderGradient/index';\r\nimport SnackBar from '../../../shared/components/SnackBar';\r\n\r\nimport {getProductDetail} from '../../../services/products';\r\nimport {postProductAccount} from '../../../services/products';\r\n\r\nvar timer;\r\n\r\nexport default function SelectedProduct({route, navigation}) {\r\n  const {userPolicies} = useSelector((state) => ({...state.policies}));\r\n  const {userAccountId} = useSelector((state) => ({...state.login}));\r\n\r\n  const {token} = useSelector((state) => ({...state.login}));\r\n  const {tag} = route.params;\r\n  const {name} = route.params;\r\n  const {productId} = route.params;\r\n\r\n  const [productText, setProductText] = useState(null);\r\n  const [disableButton, setDisableButton] = useState(false);\r\n\r\n  const [displayed, setDisplayed] = useState(false);\r\n\r\n  const [snackText, setSnackText] = useState('Ocorreu um erro tente novamente');\r\n\r\n  const closeModal = () => {\r\n    //setDisplayed(false);\r\n    //clearTimeout(timer);\r\n  };\r\n\r\n  const Display = () => {\r\n    setDisplayed(true);\r\n    timer = setTimeout(() => {\r\n      setDisplayed(false);\r\n      navigation.goBack();\r\n    }, 3000);\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    navigation.addListener('focus', () => {\r\n      StatusBar.setBarStyle('light-content');\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getProductDetail(tag, token).then((data) => {\r\n      setProductText(data);\r\n    });\r\n  }, []);\r\n\r\n  function ProductsMap() {\r\n    try {\r\n      return (\r\n        <>\r\n          <ScrollView\r\n            showsVerticalScrollIndicator={false}\r\n            contentContainerStyle={{\r\n              flexGrow: 1,\r\n              justifyContent: 'space-between',\r\n            }}>\r\n            <WebView\r\n              style={{flex: 1}}\r\n              originWhitelist={['*']}\r\n              source={{html: productText}}\r\n              scalesPageToFit={false}\r\n              // injectedJavaScript={\r\n              //   ' function hideHeaderToggle() {var x = document.getElementsByTagName(\"p\");for (var i = 0; i < x.length; i++) {x[i].style.color = \"#051f54\"}}; hideHeaderToggle();'\r\n              // }\r\n            />\r\n            <ConfirmButton\r\n              disabled={disableButton}\r\n              onPress={() => {\r\n                setDisableButton(true);\r\n                postProductAccount(productId, userAccountId, token).then(\r\n                  (data) => {\r\n                    setSnackText('Produto Solicitado!');\r\n                    Display();\r\n                  },\r\n                );\r\n              }}>\r\n              <ButtonText>Solicitar Cotação</ButtonText>\r\n            </ConfirmButton>\r\n          </ScrollView>\r\n          <SnackBar\r\n            showSnack={displayed}\r\n            toggle={closeModal}\r\n            text={snackText}\r\n          />\r\n        </>\r\n      );\r\n    } catch (e) {\r\n      console.log(e);\r\n      return (\r\n        <>\r\n          <ActivityIndicator size=\"large\" color=\"#0e4b97\" />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <HeaderGradient page2 onBackPress={() => navigation.goBack()} name={name} />\r\n\r\n      <Body>{ProductsMap()}</Body>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"script"}